---
interface Props {
  title: string;
  pdfUrl: string;
  backLink?: string;
  color?: string;
}

const { 
  title, 
  pdfUrl, 
  backLink = "/",
  color = "indigo"
} = Astro.props;

const colorClasses: Record<string, { border: string; text: string; bg: string }> = {
  indigo: { border: "border-indigo-600", text: "text-indigo-600", bg: "bg-indigo-600" },
  orange: { border: "border-orange-600", text: "text-orange-600", bg: "bg-orange-600" },
  blue: { border: "border-blue-600", text: "text-blue-600", bg: "bg-blue-600" },
  purple: { border: "border-purple-600", text: "text-purple-600", bg: "bg-purple-600" },
  emerald: { border: "border-emerald-600", text: "text-emerald-600", bg: "bg-emerald-600" },
  rose: { border: "border-rose-600", text: "text-rose-600", bg: "bg-rose-600" },
  amber: { border: "border-amber-600", text: "text-amber-600", bg: "bg-amber-600" },
};

const colors = colorClasses[color] || colorClasses.indigo;
---

<div class="min-h-screen flex flex-col bg-slate-100">
  <!-- Header -->
  <header class={`bg-white border-b-4 ${colors.border} shadow-sm`}>
    <div class="max-w-7xl mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <a 
            href={backLink} 
            class={`${colors.text} hover:opacity-80 transition flex items-center gap-2 text-sm font-medium`}
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Volver
          </a>
          <div class={`w-px h-6 bg-slate-300`}></div>
          <h1 class="text-lg md:text-xl font-bold text-slate-800 truncate">
            {title}
          </h1>
        </div>
        <a 
          href={pdfUrl} 
          download 
          class={`${colors.bg} text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition flex items-center gap-2`}
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
          </svg>
          <span class="hidden sm:inline">Descargar PDF</span>
        </a>
      </div>
    </div>
  </header>

  <!-- PDF Viewer -->
  <main class="flex-grow flex flex-col p-2 md:p-4">
    <div class="flex-grow bg-white rounded-lg shadow-lg overflow-hidden border border-slate-200">
      <iframe 
        src={pdfUrl}
        class="w-full h-full min-h-[calc(100vh-140px)]"
        title={title}
        loading="lazy"
      ></iframe>
    </div>
  </main>
</div>
